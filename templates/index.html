<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–î–æ–∫—Ç–æ—Ä –•–∞—É—Å Chatbot</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="/static/style.css" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
</head>
<body>
    <div class="chat-container">
        <div class="chat-header">–° –≤–∞–º–∏ –æ–±—â–∞–µ—Ç—Å—è Dr. House –∏–∑ —Å–µ—Ä–∏–∞–ª–∞ "–î–æ–∫—Ç–æ—Ä –•–∞—É—Å"</div>
        <div class="chat-body" id="chatBody"></div>
        <div class="chat-footer">
            <div class="input-group">
                <input type="text" id="userInput" class="form-control" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–æ–ø—Ä–æ—Å...">
                <button class="btn btn-primary" id="sendBtn">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script>
        $(document).ready(function () {
            $("#sendBtn").click(function () {
                sendMessage();
            });
            $("#userInput").keypress(function (e) {
                if (e.which == 13) sendMessage();
            });

            function sendMessage() {
                let userText = $("#userInput").val().trim();
                if (userText === "") return;

                let userHtml = '<div class="user-message"><p>' + userText + '</p></div>';
                $("#chatBody").append(userHtml);
                $("#userInput").val("");

                $.ajax({
                    type: "POST",
                    url: "/chat",
                    contentType: "application/json",
                    data: JSON.stringify({ text: userText }),
                    success: function (response) {
                        let botHtml = '<div class="bot-message"><p>' + response.response + '</p></div>';
                        $("#chatBody").append(botHtml);
                        $("#chatBody").scrollTop($("#chatBody")[0].scrollHeight);
                    },
                    error: function () {
                        let botHtml = '<div class="bot-message"><p>–û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.</p></div>';
                        $("#chatBody").append(botHtml);
                    }
                });
                $("#userInput").val("");
            }
        });
    </script>
</body>
</html>

---

## üö® –ü—Ä–æ–≤–µ—Ä–∫–∞ FastAPI –∏ –ø—É—Ç–µ–π

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π `main.py` (—É–±–µ–¥–∏—Å—å, —á—Ç–æ –ø—É—Ç–∏ –≤–µ—Ä–Ω—ã):

```python
from fastapi import FastAPI, HTTPException, Request
from fastapi.staticfiles import StaticFiles
from fastapi.templating import Jinja2Templates
from pydantic import BaseModel
from app.chatbot import get_house_response 

app = FastAPI()

app.mount("/static", StaticFiles(directory="static"), name="static")
templates = Jinja2Templates(directory="templates")

class QueryRequest(BaseModel):
    text: str

@app.get("/")
async def read_root(request: Request):
    return templates.TemplateResponse("index.html", {"request": request})

@app.post("/chat")
async def chat(request: QueryRequest):
    user_input = request.text.strip()
    if not user_input:
        raise HTTPException(status_code=400, detail="–ó–∞–ø—Ä–æ—Å –Ω–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—É—Å—Ç—ã–º")

    response = get_house_response(user_input)
    return {"response": response}

if __name__ == "__main__":
    import uvicorn
    uvicorn.run(app, host="127.0.0.1", port=8000, reload=True)
